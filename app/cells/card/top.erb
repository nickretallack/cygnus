<div class = "card top-card" id = <%= @user.top_card.id %> >
  <input type = "hidden" name = "can_modify" value = "<%= can_modify? @user %>">
  <div class = "row hc js" id = "triggers">
    <span>
      <a name = "view" <%= "start" unless can_modify? @user %>>View Mode</a>
      <div class = "vdiv"></div>
      <a name = "edit" <%= "start" if can_modify? @user %>>Edit Mode</a>
      <div class = "vdiv"></div>
      <a name = "reorder">Reorder Mode</a>
    </span>
  </div>
  <div class = "card-content">
    <div class = "card-title">
      <% if can_modify? @user %>
        <%= form_for @user.top_card, url: card_path(@user, @user.top_card), method: :patch do |f| %>
          <%= f.hidden_field :order, value: "" %> <!-- :order is not a property, only works if value is explicitly specified -->
          <div class = "js reorder-mode">
            <%= f.submit "Finalize Order" %>
          </div>
        <% end %>
        <div class = "edit-mode">
          <%= form_for @user.top_card, url: card_path(@user, @user.top_card), method: :patch, html: { class: "button-submit" } do |f| %>
            <%= f.submit "Create List", id: "create" %>
          <% end %>
          <div class = "button-area"></div>
        </div>
      <% else %>
        <div></div> <!--makes wrapping work on others' workboards-->
      <% end %>
        <% @user.lists.each do |list| %>
          <%#= cell(:card, list).(:show, user: @user) %>
        <% end %>
    </div>
  </div>
</div>