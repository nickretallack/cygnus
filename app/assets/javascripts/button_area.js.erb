function buttonArea(){
  buttonIcons = JSON.parse('<%= CONFIG[:button_icons].to_json %>');
  $(".button-area").each(function(){ initButtonArea($(this)); });
}

function initButtonArea(area){
  $.each(buttonIcons, function(name, icon){
    var button = area.children("#"+name);
    (function(){
      if(button.is("[type = submit]")) return button.parents("form");
      return button;
    })().attr("data-remote", true);
    button.hide().after($("<i />", {
      class: "material-icons medium-small",
      text: icon,
      title: name.capitalize(),
      css: {
        color: "black",
        cursor: "pointer",
        marginLeft: "3%",
        marginRight: "3%"
      }
    }).on("click.submit", function(event){
      pauseEvent(event);
      (function(){
        if(button.is("[type = submit]")) return button;
        return button.children("[type = submit]")
      })().trigger("click");
    }));
  });
}

loadFunctions.push(buttonArea);