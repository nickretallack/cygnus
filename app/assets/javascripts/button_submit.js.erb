function initButtonIcons(){
  buttonIcons = JSON.parse('<%= CONFIG[:button_icons].to_json %>');
}

function initButtonAreas(forms){
  forms.each(function(){ buttonArea($(this)); });
}

function buttonArea(form){
  var buttonArea = form.siblings(".button-area");
  if(buttonArea.length === 0) return;
  $.each(buttonIcons, function(name, icon){
    var button = form.children("#"+name);
    if(button.length === 0) return;
    form.attr("data-remote", true);
    button.hide();
    buttonArea.append($("<i />", {
      class: "material-icons medium-small",
      text: icon,
      title: name.capitalize(),
      css: {
        color: "black",
        cursor: "pointer",
        marginLeft: "3%",
        marginRight: "3%"
      }
    }).on("click.submit", function(event){
      pauseEvent(event);
      button.trigger("click");
    }));
  });
}

loadFunctions.push(initButtonIcons);
loadFunctions.push(function(){ initButtonAreas($(".button-submit")) });